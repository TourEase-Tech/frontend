var c=Object.defineProperty;var l=(r,t,s)=>t in r?c(r,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):r[t]=s;var i=(r,t,s)=>(l(r,typeof t!="symbol"?t+"":t,s),s);import{a1 as x,O as p,W as h,j as e,r as y,H as g,p as u}from"./index-c36af887.js";import{u as f,l as d,H as j,A as T,a as b,P as N}from"./Pagination-e31b7381.js";import{S as o}from"./index-b30188ee.js";function q(r){return x(r).add(7,"hours").format("HH:mm DD/MM/YYYY")}const m=()=>{const r=f();return d.omitBy({search:r.fields,sort:r.sort,limit:r.limit||10,page:r.page||1},d.isUndefined)},w={getAllTours:r=>p.get("v1/tours/getAllTours",{params:r})};class C{constructor(){i(this,"_query");i(this,"_queryTourConfig");this._queryTourConfig=m(),this._query=h({queryKey:["tours",this._queryTourConfig],queryFn:()=>w.getAllTours(this._queryTourConfig),keepPreviousData:!0,staleTime:3*60*1e3})}fetch(){var t;return(t=this._query.data)==null?void 0:t.data}getTotal(){var t;return(t=this._query.data)==null?void 0:t.data.total}isLoading(){return this._query.isLoading}}const _=[{id:"1",name:"Name",sort:"name"},{id:"2",name:"Location",sort:"departureLocation"},{id:"3",name:"Destination",sort:"destination"},{id:"4",name:"Departure Day",sort:"phonenumber"},{id:"5",name:"Price",sort:"price"}],v=({tours:r,isLoading:t,onSort:s})=>e.jsx("div",{children:e.jsxs("table",{className:"w-full bg-white text-left border-[1px] border-gray-200 p-2",children:[e.jsx(j,{header:_,onSort:s}),e.jsx("tbody",{children:t?Array(10).fill(0).map((a,n)=>e.jsxs("tr",{className:"text-[14px] text-gray-600 border-b-[1px] border-gray-200 cursor-pointer hover:bg-gray-50",children:[e.jsx("th",{className:"px-2 py-4 font-medium w-[30%]",children:e.jsx(o,{className:"h-[16px]",borderRadius:20})}),e.jsx("th",{className:"px-2 py-4 font-medium w-[17%]",children:e.jsx(o,{className:"h-[16px]",borderRadius:20})}),e.jsx("th",{className:"px-2 py-4 font-medium w-[17%]",children:e.jsx(o,{className:"h-[16px]",borderRadius:20})}),e.jsx("th",{className:"px-2 py-4 font-medium w-[17%]",children:e.jsx(o,{className:"h-[16px]",borderRadius:20})}),e.jsx("th",{className:"px-2 py-4 font-medium w-[17%]",children:e.jsx(o,{className:"h-[16px]",borderRadius:20})})]},n)):r&&r.data.data.map(a=>e.jsxs("tr",{className:"text-[14px] text-gray-600 border-b-[1px] border-gray-200 cursor-pointer hover:bg-gray-50",onClick:()=>{},children:[e.jsxs("th",{className:"px-2 py-4 font-medium w-[80%] flex gap-5 items-center",children:[e.jsx(T,{}),e.jsx("span",{className:"line-clamp-2",children:a.name})]}),e.jsx("th",{className:"px-2 py-4 font-medium w-[17%] text-center",children:a.departureLocation}),e.jsx("th",{className:"px-2 py-4 font-medium w-[17%] text-center",children:a.destination}),e.jsx("th",{className:"px-2 py-4 font-medium w-[17%] text-center",children:q(a.departureDay)}),e.jsx("th",{className:"px-2 py-4 font-medium w-[17%] text-center truncate",children:a.price})]},a.id))})]})}),A=()=>{const r=m(),t=b({queryConfig:r,pathname:u.tour}),s=new C,a=s.fetch(),n=s.getTotal();return e.jsxs(y.Fragment,{children:[e.jsxs(g,{children:[e.jsx("title",{children:"Tours"}),e.jsx("meta",{name:"description",content:"This is tours management page of the project"})]}),e.jsx(v,{tours:a,onSort:t.handleSort,isLoading:s.isLoading()}),n&&e.jsx(N,{className:"flex justify-end",queryConfig:r,total:n,pathname:u.tour})]})},S=A;export{S as default};
